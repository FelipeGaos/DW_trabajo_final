{% extends 'base/listar.html' %}

{% block agregar %}
  <a href="{% url 'registroFoto' idGaleria %}" class="btn btn-lg btn-primary btn-block" role="button">Agregar imagen</a>
{% endblock %}

{% block titulo %}
  <a class="navbar-brand" href="#">Fotos</a>
  <a href="{% url 'listarGaleria' %}" class="btn btn-sm btn-primary " role="button">Atr치s</a>
{% endblock %}

{% block alternativo %}
<h2 style="margin-top:30px;">Usuarios miembros</h2>
<a href="{% url 'verMiembros' idGaleria %}" class="btn btn-lg btn-primary btn-block" role="button">Agregar miembro</a>
<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">Usuario</th>
      <th scope="col">Foto</th>
      <th scope="col">Nombre</th>
      <th scope="col">Apellido</th>
      <th scope="col">Edad</th>
      <th scope="col">Acci칩n</th>
    </tr>
  </thead>

<tbody>
  {% for Objeto in usuarios %}
  <tr>
    <th scope="row">{{Objeto.username}}</th>
    {% if Objeto.imagen %}
    <td><img src="{{Objeto.imagen.url}}" alt="foto" width="50px" height="40px"></td>
    {% else %}
    <td>[-----]</td>
    {% endif %}
    <td>{{Objeto.first_name}}</td>
    <td>{{Objeto.last_name}}</td>
    <td>{{Objeto.edad}}</td>
    <td>
      <a href="{% url 'eliminarMiembro' idGaleria Objeto.id %}" class="btn btn-lg btn-primary" role="button">Eliminar Miembro</a>
    </td>
  </tr>
  {% endfor %}
</tbody>
</table>


{% endblock %}

{% block nombreLista %}

  <h1 style="margin-top:30px;">Listado de Fotos</h1>
{% endblock %}

{% block lista %}
  <thead>
    <tr>
      <th scope="col">Autor</th>
      <th scope="col">Imagen</th>
      <th scope="col">Descripci칩n</th>
      <th scope="col">Fecha</th>
      <th scope="col">Acci칩n</th>
    </tr>
  </thead>

  <tbody>
    {% for Objeto in lista_objetos %}
    <tr>
      <th scope="row">{{Objeto.usuario.username}}</th>
      <td><img src="{{Objeto.imagen.url}}" alt="foto" width="100px" height="80px"></td>
      <td>{{Objeto.descripcion}}</td>
      <td>{{Objeto.fecha}}</td>
      <td>
        <div class="dropdown">
          <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Opciones
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
            <a class="dropdown-item" href="{% url 'editarFoto' Objeto.id idGaleria %}">Editar</a>
            <a class="dropdown-item" href="{% url 'eliminarFoto' Objeto.id idGaleria %}">Eliminar</a>
            {% comment %}
            {% endcomment %}
          </div>
        </div>
      </td>
    </tr>
    {% endfor %}
  </tbody>
{% endblock %}

{% block paginacion %}

{% if lista_objetos.has_other_pages %}
  <ul class="pagination">
    {% if lista_objetos.has_previous %}
      <li class="page-item"><a class="page-link" href="?page={{ lista_objetos.previous_page_number }}">&laquo;</a></li>
    {% else %}
    <li class="disabled"><span class="page-link">&laquo;</span></li>
    {% endif %}
    {% for i in lista_objetos.paginator.page_range %}
      {% if lista_objetos.number == i %}
        <li class="page-item active"><span class="page-link">{{ i }}<span class="sr-only">(current)</span></span></li>
      {% else %}
        <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
      {% endif %}
    {% endfor %}
    {% if lista_objetos.has_next %}
      <li class="page-item"><a class="page-link" href="?page={{ lista_objetos.next_page_number }}">&raquo;</a></li>
    {% else %}
      <li class="disabled"><span class="page-link">&raquo;</span></li>
    {% endif %}
    </ul>
{% endif %}

{% endblock %}
